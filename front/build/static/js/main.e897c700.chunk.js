(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[0],{148:function(e,t,a){e.exports=a(200)},199:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),l=a(16),i=a(47),s=a(119),u=a(131),m="FETCH_ALL",p=a(7),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(p.a)({},null===t||void 0===t?void 0:t.data))),Object(p.a)(Object(p.a)({},e),{},{authData:t.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(p.a)(Object(p.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},f={projects:[],search:""},b={projectCosts:[],search:""},g=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;case"LIKE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"CREATE":return[].concat(Object(u.a)(e),[t.payload]);case"UPDATE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETE":return e.filter((function(e){return e._id!==t.payload}));default:return e}},auth:d,projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(p.a)(Object(p.a)({},e),{},{projects:t.payload});case"SEARCH":return Object(p.a)(Object(p.a)({},e),{},{search:t.payload});default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;default:return e}},projectCosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(p.a)(Object(p.a)({},e),{},{projectCosts:t.payload});case"SEARCH":return Object(p.a)(Object(p.a)({},e),{},{search:t.payload});default:return e}}}),v=a(10),h=a(259),j=a(23),_=a(20),y=a(247),E=a(257),x=a(248),O=a(8),C=a.n(O),w=a(15),S=a(120),k=a.n(S).a.create({baseURL:"https://sharecost2023.onrender.com/",headers:{"Content-Type":"application/json"}});k.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).access_token)),e}));var P=function(e){return k.post("/user/signin",e)},N=function(e){return k.post("/user/signup",e)},I=function(){return k.get("/getProjects")},D=function(e){return k.get("/getProject/".concat(e))},A=function(e){return k.get("/getProjectCosts/".concat(e))},L=function(e,t,a){return k.patch("/project/".concat(e,"/updProjectCost/").concat(t),a)},B=function(e,t){return k.delete("/project/".concat(e,"/delProjectCost/").concat(t))},T=function(e,t){return k.get("/project/".concat(e,"/getProjectCost/").concat(t))},W=function(e){return k.get("/getProjectMembers/".concat(e))},F=function(e){return k.patch("/project/".concat(e,"/projectMemberConfirm"))},R=function(e){return k.delete("/project/".concat(e,"/projectMemberCancel"))},U=function(e,t){return k.patch("/project/".concat(e,"/projectCost/").concat(t,"/projectCostConfirm"))},z=a(9),M=function(e,t){return function(){var a=Object(w.a)(C.a.mark((function a(n){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n=e,k.post("/addProject",n);case 3:t.push("/"),Object(z.b)("\ud83e\udd73 \u5efa\u7acb\u6210\u529f!"),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),z.b.warn(a.t0.response.data.message);case 11:case"end":return a.stop()}var n}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},H=function(e,t,a){return function(){var n=Object(w.a)(C.a.mark((function n(r){var o,c;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l=e,i=t,k.patch("/updProject/".concat(l),i);case 3:return n.next=5,I();case 5:o=n.sent,c=o.data,r({type:m,payload:c}),Object(z.b)("\ud83e\udd73 \u5b58\u64cb\u6210\u529f!"),a.goBack(),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0),z.b.warn(n.t0.response.data.message);case 16:case"end":return n.stop()}var l,i}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(w.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("test"),t.next=4,F(e);case 4:return t.next=6,I();case 6:n=t.sent,r=n.data,a({type:m,payload:r}),Object(z.b)("\u78ba\u8a8d\u6210\u529f!\ud83e\udd73"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),z.b.warn(t.t0.response.data.message);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(w.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("test"),t.next=4,R(e);case 4:return t.next=6,I();case 6:n=t.sent,r=n.data,a({type:m,payload:r}),Object(z.b)("\u9000\u51fa\u6210\u529f!\ud83e\udd73"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),z.b.warn(t.t0.response.data.message);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},Y=a(134),G=a(49),$=a(241),K=a(243),Q=a(244),V=a(245),X=a(77),Z=a.n(X),ee=a(76),te=a.n(ee),ae=a(72),ne=a.n(ae),re=a(238),oe=Object(re.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"flex-end"},chip:{margin:"0 3px 0 0"}}),ce=a(280),le=function(e){switch(e){case"010":return"\u53c3\u8207\u78ba\u8a8d\u4e2d";case"020":return"\u6210\u884c";case"090":return"\u5e33\u52d9\u78ba\u8a8d\u4e2d";case"099":return"\u7d50\u675f";case"110":return"\u78ba\u8a8d\u4e2d";case"199":return"\u5b8c\u6210";case"210":return"\u597d\u53cb\u78ba\u8a8d\u4e2d";case"299":return"\u597d\u53cb\u78ba\u8a8d\u5b8c\u6210";default:return"not found"}},ie=(a(55),a(75)),se=a.n(ie),ue=function(e){var t,a,n,o,c=e.project,i=Object(l.b)(),s=oe(),u=JSON.parse(localStorage.getItem("profile")),p=function(){var e=Object(w.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(J(a));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(w.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(q(a));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){se.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){var t,a;e.isConfirmed&&i((t=c.prj_id,a=c.prj_name,function(){var e=Object(w.a)(C.a.mark((function e(n){var r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=t,k.delete("/delProject/".concat(c));case 3:return e.next=5,I();case 5:r=e.sent,o=r.data,n({type:m,payload:o}),Object(z.b)(a+" \u522a\u9664\u6210\u529f!\ud83e\udd73"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),z.b.warn(e.t0.response.data.message);case 15:case"end":return e.stop()}var c}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}))};return r.a.createElement($.a,{className:s.card},r.a.createElement(K.a,{className:s.media,image:c.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:c.prj_name}),r.a.createElement("div",{className:s.overlay},r.a.createElement(G.a,{variant:"body2"},ne()(c.prj_sdate).fromNow())),((null===u||void 0===u||null===(t=u.result)||void 0===t?void 0:t.googleId)===(null===c||void 0===c?void 0:c.prj_mem)||(null===u||void 0===u||null===(a=u.result)||void 0===a?void 0:a.mem_id)===(null===c||void 0===c?void 0:c.prj_mem))&&r.a.createElement("div",{className:s.overlay2},r.a.createElement(Q.a,{component:j.b,to:"/fromProject",onClick:function(e){localStorage.setItem("prj_id",c.prj_id)},style:{color:"white"},size:"small"},r.a.createElement(te.a,{fontSize:"default"}))),r.a.createElement("div",{className:s.details},r.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"h2"},c.db_Project_ProjectMember&&c.db_Project_ProjectMember.map((function(e){return"#".concat(e.mem_name," ")}))),r.a.createElement("div",null,"090"===c.prj_status&&r.a.createElement(ce.a,{className:s.chip,variant:"outlined",size:"small",label:le(c.prj_status)}))),r.a.createElement(G.a,{className:s.title,gutterBottom:!0,variant:"h5",component:"h2"},c.prj_name),r.a.createElement(V.a,{className:s.cardActions},c.db_Project_ProjectMember.filter((function(e){var t;return e.mem_id===(null===u||void 0===u||null===(t=u.result)||void 0===t?void 0:t.mem_id)&&"N"===e.pm_confirm})).length>0?r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(e){p(e,c.prj_id)},variant:"outlined",color:"primary"},"\u78ba\u8a8d"),r.a.createElement(Q.a,{onClick:function(e){d(e,c.prj_id)},variant:"outlined",color:"secondary"},"\u9000\u51fa")):r.a.createElement("div",null,((null===u||void 0===u||null===(n=u.result)||void 0===n?void 0:n.googleId)===(null===c||void 0===c?void 0:c.prj_mem)||(null===u||void 0===u||null===(o=u.result)||void 0===o?void 0:o.mem_id)===(null===c||void 0===c?void 0:c.prj_mem))&&r.a.createElement(Q.a,{size:"small",color:"secondary",onClick:function(e){f()}},r.a.createElement(Z.a,{fontSize:"small"})," \u522a\u9664"),r.a.createElement(Q.a,{component:j.b,to:"/consumption",onClick:function(e){localStorage.setItem("prj_id",c.prj_id),localStorage.setItem("prj_name",c.prj_name)},variant:"outlined"},"\u5167\u5bb9"))))},me=a(17),pe=a(246),de=Object(re.a)((function(e){var t;return t={mainContainer:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},heading:{color:"rgba(0,183,255, 1)",textDecoration:"none"},image:{marginLeft:"15px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",justifyContent:"space-between",width:"400px"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},purple:{color:e.palette.getContrastText(pe.a[500]),backgroundColor:pe.a[500]}},Object(me.a)(t,e.breakpoints.down("sm"),{appBar:{padding:"10px 20px"},heading:{display:"none"},userName:{display:"none"},image:{marginLeft:"5px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"160px"}}),Object(me.a)(t,"actionDiv",{textAlign:"center"}),Object(me.a)(t,"progress",{position:"fixed",bottom:"50%",right:"50%"}),t})),fe=function(e){var t=e.onlySelfProject,a=e.onlyUnConfirm,n=e.statusCode,o=Object(l.c)((function(e){return e.projects.projects})),c=Object(l.c)((function(e){return e.projects.search})),i=de(),s=JSON.parse(localStorage.getItem("profile"));return o.length?(o.sort((function(e,t){return new Date(t.prj_sdate)-new Date(e.prj_sdate)})),o.length?r.a.createElement(x.a,{className:i.container,container:!0,alignItems:"stretch",spacing:3},o.filter((function(e){var r;return(!t||(null===s||void 0===s||null===(r=s.result)||void 0===r?void 0:r.mem_id)===(null===e||void 0===e?void 0:e.prj_mem))&&(!a||e.db_Project_ProjectMember.filter((function(e){var t;return e.mem_id===(null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.mem_id)&&"N"===e.pm_confirm})).length>0)&&(!(c.length>0)||e.prj_name.includes(String(c)))&&("0"===n||e.prj_status===n)})).map((function(e){return r.a.createElement(x.a,{key:e.prj_id,item:!0,xs:12,sm:6,md:6},r.a.createElement(ue,{project:e}))}))):r.a.createElement(y.a,{className:i.progress})):r.a.createElement(Y.a,{className:i.paper},r.a.createElement(G.a,{variant:"h6",align:"center"},"\u5c1a\u7121\u884c\u7a0b\u7d00\u9304\uff01"))},be=a(249),ge=a(250),ve=a(251),he=a(281),je=Object(re.a)((function(e){return{appBar:{borderRadius:15,padding:"10px 50px"},FormGroup:{justifyContent:"center"},FormControlLabel:{margin:"0px 4px 0px 0px"}}})),_e=a(254),ye=a(253),Ee=a(278),xe=function(e){var t=e.onlySelfProject,a=e.onlyUnConfirm,o=e.statusCode,c=e.setOnlySelfProject,l=e.setonlyUnConfirm,i=e.setStatusCode,s=je(),u=Object(n.useState)({onlySelfProject:t,onlyUnConfirm:a}),m=Object(v.a)(u,2),d=m[0],f=m[1],b=Object(n.useState)(o),g=Object(v.a)(b,2),h=g[0],j=g[1],_=function(e){f(Object(p.a)(Object(p.a)({},d),{},Object(me.a)({},e.target.name,e.target.checked))),"onlySelfProject"===e.target.name?c(e.target.checked):"onlyUnConfirm"===e.target.name&&l(e.target.checked)};return r.a.createElement(be.a,{className:s.appBar,position:"static",color:"inherit"},r.a.createElement(ge.a,{row:!0,className:s.FormGroup},r.a.createElement(ve.a,{control:r.a.createElement(he.a,{checked:d.onlySlefProject,onChange:_,name:"onlySelfProject",color:"primary"}),label:"\u50c5\u986f\u793a\u500b\u4eba\u5efa\u7acb\u884c\u7a0b"}),r.a.createElement(ve.a,{control:r.a.createElement(he.a,{checked:d.onlyUnConfirm,onChange:_,name:"onlyUnConfirm",color:"primary"}),label:"\u50c5\u986f\u793a\u5f85\u78ba\u8a8d\u9805\u76ee"}),r.a.createElement(ve.a,{control:r.a.createElement(ye.a,null,r.a.createElement(_e.a,{htmlFor:"age-native-simple"},"\u72c0\u614b"),r.a.createElement(Ee.a,{native:!0,value:h,onChange:function(e){j(e.target.value),i(e.target.value)},inputProps:{name:"statusCode",id:"age-native-simple"}},r.a.createElement("option",{value:"0"},"\u5168\u90e8"),r.a.createElement("option",{value:"010"},"\u53c3\u8207\u78ba\u8a8d\u4e2d"),r.a.createElement("option",{value:"020"},"\u5e33\u52d9\u78ba\u8a8d\u4e2d"),r.a.createElement("option",{value:"090"},"\u7d50\u675f\u78ba\u8a8d\u4e2d"),r.a.createElement("option",{value:"099"},"\u7d50\u675f"))),className:s.FormControlLabel})))},Oe=Object(re.a)((function(e){return{fab:{position:"fixed",bottom:"50px",right:"50px"},progress:{position:"fixed",bottom:"50%",right:"50%"}}})),Ce=function(){var e=Object(n.useState)(!0),t=Object(v.a)(e,2),a=t[0],o=t[1],c=Object(l.b)(),i=Oe(),s=Object(n.useState)(!1),u=Object(v.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(!1),b=Object(v.a)(f,2),g=b[0],j=b[1],_=Object(n.useState)("0"),O=Object(v.a)(_,2),S=O[0],k=O[1];return localStorage.removeItem("prj_id"),localStorage.removeItem("pc_id"),Object(n.useEffect)((function(){c(function(e){return function(){var t=Object(w.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I();case 3:n=t.sent,r=n.data,a({type:m,payload:r}),e(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.t0.response&&z.b.warn(t.t0.response.data.message);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(o))}),[c]),a?r.a.createElement(y.a,{className:i.progress}):r.a.createElement(h.a,null,r.a.createElement(z.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(E.a,{in:!0},r.a.createElement(h.a,null,console.log("home"),r.a.createElement(x.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3},r.a.createElement(x.a,{item:!0,xs:12,sm:12},r.a.createElement(xe,{onlySelfProject:p,setOnlySelfProject:d,onlyUnConfirm:g,setonlyUnConfirm:j,statusCode:S,setStatusCode:k})),r.a.createElement(x.a,{item:!0,xs:12,sm:12},r.a.createElement(fe,{isLoading:a,onlySelfProject:p,onlyUnConfirm:g,statusCode:S}))),!1)))},we=a(284),Se=a(126),ke=a.n(Se),Pe=Object(re.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),Ne=a(283),Ie=a(260),De=a(252),Ae=a(124),Le=a.n(Ae),Be=a(125),Te=a.n(Be),We=function(e){var t=e.name,a=e.handleChange,n=e.label,o=e.half,c=e.autoFocus,l=e.type,i=e.handleShowPassword,s=e.value;return r.a.createElement(x.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(Ne.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:n,autoFocus:c,type:l,value:s,InputProps:"password"===t?{endAdornment:r.a.createElement(Ie.a,{position:"end"},r.a.createElement(De.a,{onClick:i},"password"===l?r.a.createElement(Le.a,null):r.a.createElement(Te.a,null)))}:null}))},Fe={mem_name:"",mem_email:"",mem_pass:"",confirmPassword:""},Re=function(){var e=Object(n.useState)(Fe),t=Object(v.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(v.a)(c,2),s=i[0],u=i[1],m=Object(l.b)(),d=Object(_.f)(),f=Pe(),b=Object(n.useState)(!1),g=Object(v.a)(b,2),j=g[0],y=g[1],E=function(e){return o(Object(p.a)(Object(p.a)({},a),{},Object(me.a)({},e.target.name,e.target.value)))};return r.a.createElement(h.a,{component:"main",maxWidth:"xs"},r.a.createElement(z.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(Y.a,{className:f.paper,elevation:3},r.a.createElement(we.a,{className:f.avatar},r.a.createElement(ke.a,null)),r.a.createElement(G.a,{component:"h1",variant:"h5"},s?"\u8a3b\u518a":"\u767b\u5165"),r.a.createElement("form",{className:f.form,onSubmit:function(e){var t,n;e.preventDefault(),s?a.mem_pass===a.confirmPassword?m((t=a,n=d,function(){var e=Object(w.a)(C.a.mark((function e(a){var r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:r=e.sent,o=r.data,console.log(o),"fail"!==o.status?(a({type:"AUTH",data:o}),n.push("/")):z.b.warn(o.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),z.b.warn(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())):z.b.warn("\u5169\u7d44\u5bc6\u78bc\u4e0d\u540c!"):m(function(e,t){return function(){var a=Object(w.a)(C.a.mark((function a(n){var r,o;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P(e);case 3:r=a.sent,"fail"!==(o=r.data).status?(n({type:"AUTH",data:o}),t.push("/")):z.b.warn(o.message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),z.b.warn(a.t0.response.data.message);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a,d))}},r.a.createElement(x.a,{container:!0,spacing:2},s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(We,{name:"mem_name",value:a.mem_name,label:"\u66b1\u7a31",handleChange:E,autoFocus:!0})),r.a.createElement(We,{name:"mem_email",value:a.mem_email,label:"\u4fe1\u7bb1",handleChange:E,type:"email"}),r.a.createElement(We,{name:"mem_pass",value:a.mem_pass,label:"\u5bc6\u78bc",handleChange:E,type:j?"text":"password",handleShowPassword:function(){return y(!j)}}),s&&r.a.createElement(We,{name:"confirmPassword",value:a.confirmPassword,label:"\u5bc6\u78bc\u78ba\u8a8d",handleChange:E,type:"password"})),r.a.createElement(Q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit},s?"\u8a3b\u518a":"\u767b\u5165"),r.a.createElement(x.a,{container:!0,justify:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(Q.a,{onClick:function(){o(Fe),u((function(e){return!e})),y(!1)}},s?"\u5df2\u6709\u5e33\u865f? \u9ede\u6211\u9032\u884c\u767b\u5165":"\u9084\u6c92\u6709\u5e33\u865f? \u9ede\u6211\u9032\u884c\u8a3b\u518a"))))))},Ue=a(79),ze=a.n(Ue),Me=Object(re.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10},fab:{position:"fixed",bottom:"50px",right:"50px"},multiSelect:{margin:e.spacing(1)},label:{margin:e.spacing(1),marginLeft:e.spacing(2)}}})),He=a(66),Je=a(202),qe=function(){var e,t,a=JSON.parse(localStorage.getItem("profile")),o=localStorage.getItem("prj_id");console.log(o);var c={prj_name:"",prj_sdate:"",prj_edate:"",db_Project_ProjectMember:[{mem_id:null===a||void 0===a||null===(e=a.result)||void 0===e?void 0:e.mem_id,pm_confirm:"Y"}]},i=Object(n.useState)(c),s=Object(v.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(Object(l.c)((function(e){return o?e.projects.projects.find((function(e){return e.prj_id===o})):null}))),f=Object(v.a)(d,2),b=f[0],g=f[1];console.log(Object(l.c)((function(e){return e})));var j=Object(l.b)(),y=Me(),E=Object(n.useState)([]),x=Object(v.a)(E,2),O=x[0],S=x[1],P=Object(n.useState)(""),N=Object(v.a)(P,2),I=N[0],A=N[1],L=Object(n.useState)([]),B=Object(v.a)(L,2),T=B[0],W=B[1],F=Object(_.f)();Object(n.useEffect)((function(){if(b){m(b);var e=[];b.db_Project_ProjectMember&&b.db_Project_ProjectMember.filter((function(e){var t;return e.mem_id!==(null===a||void 0===a||null===(t=a.result)||void 0===t?void 0:t.mem_id)})).map((function(t){return e.push({label:t.mem_name,value:t.mem_id}),t})),S(e)}else R(o)}),[b,o,a.result.mem_id]);var R=function(){var e=Object(w.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:a=e.sent,n=a.data,g(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),z.b.warn(e.t0.respanse);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e,t="",n=[];(O.map((function(e){return t+="#"+e.label+" ",n.push({mem_id:e.value}),e})),A(t),u!==c)&&(n.push({mem_id:null===a||void 0===a||null===(e=a.result)||void 0===e?void 0:e.mem_id}),m(Object(p.a)(Object(p.a)({},u),{},{db_Project_ProjectMember:n})))}),[O]),Object(n.useEffect)((function(){U()}),[]);var U=function(){var e=Object(w.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/getReactMember");case 3:t=e.sent,a=t.data,W(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),J=function(){console.log(F),m(c),S([])},q=function(){var e=Object(w.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(u),o?(j(H(o,Object(p.a)(Object(p.a)({},u),{},{name:null===a||void 0===a||null===(n=a.result)||void 0===n?void 0:n.mem_name}),F)),J()):(j(M(Object(p.a)(Object(p.a)({},u),{},{name:null===a||void 0===a||null===(r=a.result)||void 0===r?void 0:r.mem_name}),F)),J());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(null===a||void 0===a||null===(t=a.result)||void 0===t?void 0:t.mem_name)?r.a.createElement(h.a,{component:"main",maxWidth:"xs"},r.a.createElement(z.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(Y.a,{className:y.paper},r.a.createElement("form",{autoComplete:"off",className:"".concat(y.root," ").concat(y.form),onSubmit:q},r.a.createElement(G.a,{variant:"h6"},o?"\u7de8\u8f2f\u884c\u7a0b":"\u65b0\u589e\u884c\u7a0b"),r.a.createElement(Ne.a,{name:"prj_name",variant:"outlined",required:!0,label:"\u884c\u7a0b\u540d\u7a31",fullWidth:!0,value:u.prj_name,onChange:function(e){return m(Object(p.a)(Object(p.a)({},u),{},{prj_name:e.target.value}))}}),r.a.createElement(Ne.a,{name:"prj_sdate",variant:"outlined",label:"\u8d77\u59cb\u65e5\u671f",fullWidth:!0,type:"date",value:u.prj_sdate,InputLabelProps:{shrink:!0},onChange:function(e){return m(Object(p.a)(Object(p.a)({},u),{},{prj_sdate:e.target.value}))},required:!0}),r.a.createElement(Ne.a,{name:"prj_edate",variant:"outlined",label:"\u7d50\u675f\u65e5\u671f",fullWidth:!0,type:"date",value:u.prj_edate,InputLabelProps:{shrink:!0},onChange:function(e){return m(Object(p.a)(Object(p.a)({},u),{},{prj_edate:e.target.value}))},required:!0}),r.a.createElement(ye.a,{fullWidth:!0},r.a.createElement(He.a,{options:T.filter((function(e){var t;return e.value!=(null===a||void 0===a||null===(t=a.result)||void 0===t?void 0:t.mem_id)})),value:O,onChange:S,className:y.multiSelect,selectAllLabel:"\u5168\u9078",overrideStrings:{selectSomeItems:"\u9078\u64c7\u6210\u54e1",allItemsAreSelected:"All items are selected.",selectAll:"Select All",search:"\u95dc\u9375\u5b57\u641c\u5c0b",clearSearch:"Clear Search"},labelledBy:"Select",valueRenderer:function(e,t){return e.length?"\u5171"+e.length+"\u4f4d":"\u9078\u64c7\u6210\u54e1"},filterOptions:function(e,t){if(!t)return e;var a=new RegExp(t,"i");return e.filter((function(e){var t=e.label;return t&&t.match(a)}))}}),r.a.createElement(Je.a,{className:y.label},I)),r.a.createElement("div",{className:y.fileInput},r.a.createElement(ze.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return m(Object(p.a)(Object(p.a)({},u),{},{selectedFile:t}))}})),r.a.createElement(Q.a,{type:"submit",className:y.buttonSubmit,variant:"contained",color:"primary",size:"large",fullWidth:!0},o?"\u5b58\u64cb":"\u5efa\u7acb"),r.a.createElement(Q.a,{className:y.buttonSubmit,variant:"contained",color:"secondary",size:"small",onClick:function(){J()},fullWidth:!0},"\u6e05\u9664"),!1))):r.a.createElement(Y.a,{className:y.paper},r.a.createElement(G.a,{variant:"h6",align:"center"},"\u8acb\u5148\u767b\u5165"))},Ye=function(e,t){return function(){var a=Object(w.a)(C.a.mark((function a(n){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n=e,k.post("/addProjectCost",n);case 3:t.goBack(),Object(z.b)(e.pc_name+" \u5efa\u7acb\u6210\u529f!\ud83e\udd73"),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),z.b.warn(a.t0.response.data.message);case 11:case"end":return a.stop()}var n}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},Ge=function(e,t,a,n){return function(){var r=Object(w.a)(C.a.mark((function r(o){var c,l;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,L(e,t,a);case 3:return r.next=5,A(e);case 5:c=r.sent,l=c.data,o({type:m,payload:l}),Object(z.b)("\ud83e\udd73 \u5b58\u64cb\u6210\u529f!"),n.goBack(),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0),z.b.warn(r.t0.response.data.message);case 16:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()},$e=function(e,t){return function(){var a=Object(w.a)(C.a.mark((function a(n){var r,o;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("test"),a.next=4,U(e,t);case 4:return a.next=6,A(e);case 6:r=a.sent,o=r.data,n({type:m,payload:o}),Object(z.b)("\u78ba\u8a8d\u6210\u529f!\ud83e\udd73"),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0),z.b.warn(a.t0.response.data.message);case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()},Ke=Object(re.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"10px 20px 0px 20px"},title:{padding:"0 16px",marginTop:"10px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"flex-end"},chip:{margin:"0 3px 0 0"}}),Qe=a(279),Ve=a(267),Xe=a(265),Ze=a(266),et=a(264),tt=a(263),at=a(258),nt=a(203),rt=a(262),ot=a(261),ct=Object(re.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:300},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0},self:{color:"#FF0000"}}})),lt=function(e){var t=e.db_projectCost_costDetail,a=ct(),n=JSON.parse(localStorage.getItem("profile")),o=[{id:"1",title:"\u588a\u4ed8\u8005",items:t.filter((function(e){return"1"===e.pm_type}))},{id:"2",title:"\u6d88\u8cbb\u8005",items:t.filter((function(e){return"2"===e.pm_type}))}];return r.a.createElement(at.a,{className:a.root,subheader:r.a.createElement("li",null)},o.map((function(e){return r.a.createElement("li",{key:"section-".concat(e.id),className:a.listSection},r.a.createElement("ul",{className:a.ul},r.a.createElement(ot.a,null,e.title),e.items.map((function(e){var t;return r.a.createElement(nt.a,{key:"item-".concat(e.pc_id,"-").concat(e.pm_type,"-").concat(e.mem_id)},r.a.createElement(rt.a,{className:e.mem_id===(null===n||void 0===n||null===(t=n.result)||void 0===t?void 0:t.mem_id)?a.self:"",primary:"".concat(e.mem_name," ").concat(e.pm_item,"  ").concat(e.pm_amt," \u5143")}))}))))})))},it=r.a.forwardRef((function(e,t){return r.a.createElement(tt.a,Object.assign({direction:"up",ref:t},e))})),st=function(e){var t=e.projectCost,a=r.a.useState(!1),n=Object(v.a)(a,2),o=n[0],c=n[1],i=Object(l.b)(),s=JSON.parse(localStorage.getItem("profile")),u=function(){var e=Object(w.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),i($e(t.prj_id,t.pc_id)),c(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Q.a,{variant:"outlined",onClick:function(){c(!0)}},"\u5167\u5bb9"),r.a.createElement(Qe.a,{open:o,TransitionComponent:it,keepMounted:!0,onClose:function(){c(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(et.a,{id:"alert-dialog-slide-title"},t.pc_name),r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{id:"alert-dialog-slide-description",component:"span"},r.a.createElement(lt,{db_projectCost_costDetail:t.db_ProjectCost_CostDetail}))),t.db_ProjectCost_CostDetail.filter((function(e){var t;return e.mem_id===(null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.mem_id)&&"Y"!==e.pm_confirm})).length>0&&r.a.createElement(Ve.a,null,r.a.createElement(Q.a,{onClick:function(e){u(e)},variant:"outlined",color:"primary"},"\u78ba\u8a8d"))))},ut=function(e){var t=e.projectCost,a=Object(l.b)(),n=Ke(),o=function(e,t){for(var a=[],n=0;n<e.length;++n)a.push(e[n][t]);return a},c=function(){se.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){var n,r,o;e.isConfirmed&&a((n=t.prj_id,r=t.pc_id,o=t.pc_name,function(){var e=Object(w.a)(C.a.mark((function e(t){var a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(n,r);case 3:return e.next=5,A(n);case 5:a=e.sent,c=a.data,t({type:m,payload:c}),Object(z.b)(o+" \u522a\u9664\u6210\u529f!\ud83e\udd73"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),z.b.warn(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}))};return r.a.createElement($.a,{className:n.card},r.a.createElement(K.a,{className:n.media,image:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:t.pc_name}),r.a.createElement("div",{className:n.overlay},r.a.createElement(G.a,{variant:"body2"},ne()(t.pc_date).fromNow())),r.a.createElement("div",{className:n.overlay2},r.a.createElement(Q.a,{component:j.b,to:"/fromProjectCost",onClick:function(){localStorage.setItem("pc_id",t.pc_id)},style:{color:"white"},size:"small"},r.a.createElement(te.a,{fontSize:"default"}))),r.a.createElement("div",{className:n.details},r.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"h2"},"\u588a\u4ed8\u4eba\u54e1\uff1a",t.db_ProjectCost_CostDetail&&o(t.db_ProjectCost_CostDetail.filter((function(e){return"1"===e.pm_type&&"Y"===e.pm_confirm})),"mem_name").map((function(e){return"\u2705".concat(e," ")})),t.db_ProjectCost_CostDetail&&o(t.db_ProjectCost_CostDetail.filter((function(e){return"1"===e.pm_type&&"Y"!==e.pm_confirm})),"mem_name").map((function(e){return"".concat(e," ")}))),r.a.createElement("div",null,r.a.createElement(ce.a,{className:n.chip,variant:"outlined",size:"small",label:le(t.pc_status)}))),r.a.createElement("div",{className:n.details},r.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"h2"},"\u53c3\u8207\u4eba\u54e1\uff1a",t.db_ProjectCost_CostDetail&&o(t.db_ProjectCost_CostDetail.filter((function(e){return"2"===e.pm_type&&"Y"===e.pm_confirm})),"mem_name").map((function(e){return"\u2705".concat(e," ")})),t.db_ProjectCost_CostDetail&&o(t.db_ProjectCost_CostDetail.filter((function(e){return"2"===e.pm_type&&"Y"!==e.pm_confirm})),"mem_name").map((function(e){return"".concat(e," ")})))),r.a.createElement(G.a,{className:n.title,gutterBottom:!0,variant:"h5",component:"h2"},t.pc_name),r.a.createElement(V.a,{className:n.cardActions},r.a.createElement(st,{projectCost:t}),r.a.createElement(Q.a,{size:"small",color:"secondary",onClick:function(e){c()}},r.a.createElement(Z.a,{fontSize:"small"})," \u522a\u9664")))},mt=Object(re.a)((function(e){var t;return t={mainContainer:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},heading:{color:"rgba(0,183,255, 1)",textDecoration:"none"},image:{marginLeft:"15px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",justifyContent:"space-between",width:"400px"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},purple:{color:e.palette.getContrastText(pe.a[500]),backgroundColor:pe.a[500]}},Object(me.a)(t,e.breakpoints.down("sm"),{appBar:{padding:"10px 20px"},heading:{display:"none"},userName:{display:"none"},image:{marginLeft:"5px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"160px"}}),Object(me.a)(t,"actionDiv",{textAlign:"center"}),Object(me.a)(t,"progress",{position:"fixed",bottom:"50%",right:"50%"}),t})),pt=function(e){var t=e.onlySelf,a=e.onlyUnConfirm,n=e.statusCode,o=Object(l.c)((function(e){return e.projectCosts.projectCosts})),c=mt(),i=Object(l.c)((function(e){return e.projects.search})),s=JSON.parse(localStorage.getItem("profile"));return o.length?(o.sort((function(e,t){return new Date(t.pc_date)-new Date(e.pc_date)})),o.length?r.a.createElement(x.a,{className:c.container,container:!0,alignItems:"stretch",spacing:3},o.filter((function(e){return(!t||e.db_ProjectCost_CostDetail.filter((function(e){var t;return e.mem_id===(null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.mem_id)})).length>0)&&(!a||e.db_ProjectCost_CostDetail.filter((function(e){var t;return e.mem_id===(null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.mem_id)&&"N"===e.pm_confirm})).length>0)&&(!(i.length>0)||e.pc_name.includes(String(i)))&&("0"===n||e.pc_status===n)})).sort((function(e,t){return console.log("a:"+e.prj_sdate),console.log("b:"+t.prj_sdate),new Date(t.prj_sdate)-new Date(e.prj_sdate)})).map((function(e){return r.a.createElement(x.a,{key:e.pc_id,item:!0,xs:12,sm:6,md:6},r.a.createElement(ut,{projectCost:e}))}))):r.a.createElement(y.a,{className:c.progress})):r.a.createElement(Y.a,{className:c.paper},r.a.createElement(G.a,{variant:"h6",align:"center"},"\u5c1a\u7121\u6d88\u8cbb\u7d00\u9304\uff01"))},dt=Object(re.a)((function(e){return{appBar:{borderRadius:15,padding:"10px 50px"},FormGroup:{justifyContent:"center"},FormControlLabel:{margin:"0px 4px 0px 0px"},prj_name:{fontSize:"23px",cursor:"pointer",display:"inline-flex",alignItems:"center",marginLeft:"-11px",marginRight:"16px",verticalAlign:"middle","-webkit-tap-highlight-color":"transparent","justify-content":"center"}}})),ft=function(e){var t=e.onlySelf,a=e.onlyUnConfirm,o=e.statusCode,c=e.setOnlySelf,l=e.setOnlyUnConfirm,i=e.setStatusCode,s=dt(),u=Object(n.useState)({onlySelf:t,onlyUnConfirm:a}),m=Object(v.a)(u,2),d=m[0],f=m[1],b=Object(n.useState)(o),g=Object(v.a)(b,2),h=g[0],_=g[1],y=function(e){f(Object(p.a)(Object(p.a)({},d),{},Object(me.a)({},e.target.name,e.target.checked))),console.log(e.target.checked),"onlySelf"===e.target.name?c(e.target.checked):"onlyUnConfirm"===e.target.name&&l(e.target.checked)};return r.a.createElement(be.a,{className:s.appBar,position:"static",color:"inherit"},r.a.createElement("label",{className:s.prj_name},localStorage.getItem("prj_name")),r.a.createElement(ge.a,{row:!0,className:s.FormGroup},r.a.createElement(ve.a,{control:r.a.createElement(he.a,{checked:d.onlySelf,onChange:y,name:"onlySelf",color:"primary"}),label:"\u50c5\u986f\u793a\u53c3\u8207\u9805\u76ee"}),r.a.createElement(ve.a,{control:r.a.createElement(he.a,{checked:d.onlyUnConfirm,onChange:y,name:"onlyUnConfirm",color:"primary"}),label:"\u50c5\u986f\u793a\u5f85\u78ba\u8a8d\u9805\u76ee"}),r.a.createElement(ve.a,{control:r.a.createElement(ye.a,null,r.a.createElement(_e.a,{htmlFor:"age-native-simple"},"\u72c0\u614b"),r.a.createElement(Ee.a,{native:!0,value:h,onChange:function(e){_(e.target.value),i(e.target.value)},inputProps:{name:"statusCode",id:"age-native-simple"}},r.a.createElement("option",{value:"0"},"\u5168\u90e8"),r.a.createElement("option",{value:"110"},"\u78ba\u8a8d\u4e2d"),r.a.createElement("option",{value:"199"},"\u78ba\u8a8d\u5b8c\u6210"))),className:s.FormControlLabel}),r.a.createElement(ve.a,{control:r.a.createElement(ye.a,null,r.a.createElement(Q.a,{component:j.b,to:"/finalTable",variant:"outlined"},"\u7e3d\u8868")),className:s.FormControlLabel})))},bt=Object(re.a)((function(e){return{fab:{position:"fixed",bottom:"120px",right:"50px"},fabReply:{position:"fixed",bottom:"50px",right:"50px"},progress:{position:"fixed",bottom:"50%",right:"50%"}}})),gt=function(){var e,t=Object(n.useState)(!0),a=Object(v.a)(t,2),o=a[0],c=a[1],i=Object(l.b)(),s=Object(n.useState)(!1),u=Object(v.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(!1),b=Object(v.a)(f,2),g=b[0],j=b[1],_=Object(n.useState)("0"),O=Object(v.a)(_,2),S=O[0],k=O[1],P=localStorage.getItem("prj_id"),N=JSON.parse(localStorage.getItem("profile")),I=bt();return Object(n.useEffect)((function(){i(function(e,t){return function(){var a=Object(w.a)(C.a.mark((function a(n){var r,o;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A(e);case 3:r=a.sent,o=r.data,n({type:m,payload:o}),t(!1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),z.b.warn(a.t0.response);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(P,c))}),[i]),(null===N||void 0===N||null===(e=N.result)||void 0===e?void 0:e.mem_name)?o?r.a.createElement(y.a,{className:I.progress}):r.a.createElement(h.a,null,r.a.createElement(z.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(E.a,{in:!0},r.a.createElement(h.a,null,console.log("home"),r.a.createElement(x.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3},r.a.createElement(x.a,{item:!0,xs:12,sm:12},r.a.createElement(ft,{onlySelf:p,setOnlySelf:d,onlyUnConfirm:g,setOnlyUnConfirm:j,statusCode:S,setStatusCode:k})),r.a.createElement(x.a,{item:!0,xs:12,sm:12},r.a.createElement(pt,{onlySelf:p,onlyUnConfirm:g,statusCode:S})))))):r.a.createElement(Y.a,{className:I.paper},r.a.createElement(G.a,{variant:"h6",align:"center"},"\u8acb\u767b\u5165\u3002"))},vt=Object(re.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10},fab:{position:"fixed",bottom:"50px",right:"50px"},multiSelect1:{margin:e.spacing(1),zIndex:4},multiSelect2:{margin:e.spacing(1),zIndex:3},labelAmount:{margin:e.spacing(1),marginLeft:e.spacing(1),textAlign:"left",width:"100%"},label:{margin:e.spacing(1),marginLeft:e.spacing(2)},labelPc_amtPay:{margin:e.spacing(1),marginRight:e.spacing(2),textAlign:"right"}}})),ht=a(269),jt=a(273),_t=a(272),yt=a(268),Et=a(270),xt=a(271),Ot=Object(re.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},label:{margin:e.spacing(1),marginLeft:e.spacing(2),height:"100%"},container:{maxHeight:240},textfield:{height:20},header:{zIndex:0}}})),Ct=function(e){var t=e.handelSetAmt,a=e.costDetailPay,n=Ot(),o=[{id:"name",label:"\u66b1\u7a31",minWidth:50},{id:"amt",label:"\u91d1\u984d",minWidth:35,align:"right",format:function(e){return e.toLocaleString("en-US")}}];var c=[];return a&&a.map((function(e){var t,a,n,r;return c.push((t=e.mem_id,a=e.mem_name,n=e.pm_amt,r=e.pm_type,{mem_id:t,name:a,amt:n,pm_type:r})),e})),r.a.createElement(Y.a,{className:n.root},r.a.createElement(yt.a,{className:n.container},r.a.createElement(ht.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Et.a,null,r.a.createElement(xt.a,null,o.map((function(e){return r.a.createElement(_t.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(jt.a,null,c.map((function(e){return r.a.createElement(xt.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},o.map((function(a){var o=e[a.id];return r.a.createElement(_t.a,{key:a.id,align:a.align},"amt"===a.id?r.a.createElement(Ne.a,{name:"amt",required:!0,InputProps:{startAdornment:r.a.createElement(Ie.a,{position:"end"},"NT.")},inputProps:{min:0,style:{textAlign:"right"}},className:n.textfield,style:{margin:0},onChange:function(a){return t(e.mem_id,a.target.value,e.pm_type)},value:a.format&&"number"===typeof o?a.format(o):o}):a.format&&"number"===typeof o?a.format(o):o)})))}))))))},wt=Object(re.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},label:{margin:e.spacing(1),marginLeft:e.spacing(2),height:"100%"},container:{maxHeight:240},textfield:{height:20}}})),St=function(e){var t=e.handelSetAmt,a=e.handelSetPm_item,n=e.costDetailJoin,o=wt(),c=[{id:"name",label:"\u66b1\u7a31",minWidth:50},{id:"pm_item",label:"\u9805\u76ee",minWidth:30},{id:"amt",label:"\u91d1\u984d",minWidth:45,align:"right",format:function(e){return e.toLocaleString("en-US")}}];var l=[];return n&&n.map((function(e){var t,a,n,r,o;return l.push((t=e.mem_id,a=e.mem_name,n=e.pm_item,r=e.pm_amt,o=e.pm_type,console.log(o),{mem_id:t,name:a,pm_item:n,amt:r,pm_type:o})),e})),r.a.createElement(Y.a,{className:o.root},r.a.createElement(yt.a,{className:o.container},r.a.createElement(ht.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Et.a,null,r.a.createElement(xt.a,null,c.map((function(e){return r.a.createElement(_t.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(jt.a,null,l.map((function(e){return r.a.createElement(xt.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},c.map((function(n){var c=e[n.id];return r.a.createElement(_t.a,{key:n.id,align:n.align},"amt"===n.id?r.a.createElement(Ne.a,{name:"amt",required:!0,InputProps:{startAdornment:r.a.createElement(Ie.a,{position:"end"},"NT.")},inputProps:{min:0,style:{textAlign:"right"}},className:o.textfield,style:{margin:0},onChange:function(a){return t(e.mem_id,a.target.value,e.pm_type)},value:n.format&&"number"===typeof c?n.format(c):c}):"pm_item"===n.id?r.a.createElement(Ne.a,{name:"pm_item",required:!0,inputProps:{min:0,style:{textAlign:"left"}},className:o.textfield,style:{margin:0},onChange:function(t){return a(e.mem_id,t.target.value,e.pm_type)},value:c}):n.format&&"number"===typeof c?n.format(c):c)})))}))))))},kt=function(){var e,t,a,o,c=JSON.parse(localStorage.getItem("profile")),i=((new Date).toISOString().substring(0,10),localStorage.getItem("prj_id")),s=localStorage.getItem("pc_id"),u={pc_name:"",pc_date:"",pc_amount:0,pc_mem:null===c||void 0===c||null===(e=c.result)||void 0===e?void 0:e.mem_id,db_ProjectCost_CostDetail:[]},m=Object(n.useState)(u),d=Object(v.a)(m,2),f=d[0],b=d[1],g=Object(n.useState)(Object(l.c)((function(e){return s?e.projectCosts.projectCosts.find((function(e){return e.pc_id===s})):null}))),j=Object(v.a)(g,2),y=j[0],E=j[1],x=Object(l.b)(),O=vt(),S=Object(n.useState)([]),k=Object(v.a)(S,2),P=k[0],N=k[1],I=Object(n.useState)([]),D=Object(v.a)(I,2),A=D[0],L=D[1],B=Object(n.useState)([]),F=Object(v.a)(B,2),R=F[0],U=F[1],M=Object(_.f)(),H=function(e,t){if(!t)return e;var a=new RegExp(t,"i");return e.filter((function(e){var t=e.label;return t&&t.match(a)}))},J=function(){var e=Object(w.a)(C.a.mark((function e(t,a){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t,a);case 3:n=e.sent,r=n.data,E(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),z.b.warn(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(y){b(y);var e=[];y.db_ProjectCost_CostDetail&&y.db_ProjectCost_CostDetail.filter((function(e){return"1"===e.pm_type})).map((function(t){return e.push({label:t.mem_name,value:t.mem_id}),t})),N(e),e=[],y.db_ProjectCost_CostDetail&&y.db_ProjectCost_CostDetail.filter((function(e){return"2"===e.pm_type})).map((function(t){return e.push({label:t.mem_name,value:t.mem_id}),t})),L(e)}else J(i,s)}),[y]),Object(n.useEffect)((function(){var e=[];P.map((function(t){var a;return e.push({mem_id:t.value,mem_name:t.label,pm_amt:(null===(a=f.db_ProjectCost_CostDetail.filter((function(e){return e.mem_id===t.value&&"1"===e.pm_type}))[0])||void 0===a?void 0:a.pm_amt)||0,pm_type:"1"}),t})),A.map((function(t){var a=f.db_ProjectCost_CostDetail.filter((function(e){return e.mem_id===t.value&&"2"===e.pm_type}))[0];return e.push({mem_id:t.value,mem_name:t.label,pm_item:null===a||void 0===a?void 0:a.pm_item,pm_amt:(null===a||void 0===a?void 0:a.pm_amt)||0,pm_type:"2"}),t})),b(Object(p.a)(Object(p.a)({},f),{},{db_ProjectCost_CostDetail:e}))}),[P,A]),Object(n.useEffect)((function(){q(i)}),[]);var q=function(){var e=Object(w.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:a=e.sent,n=a.data,U(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){b(u),N([]),L([])},K=function(){var e=Object(w.a)(C.a.mark((function e(t){var a,n,r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=X(f.db_ProjectCost_CostDetail.filter((function(e){return"1"===e.pm_type})).map((function(e){return e.pm_amt}))),n=X(f.db_ProjectCost_CostDetail.filter((function(e){return"2"===e.pm_type})).map((function(e){return e.pm_amt}))),a?n?a===n?s?x(Ge(i,s,Object(p.a)(Object(p.a)({},f),{},{name:null===c||void 0===c||null===(r=c.result)||void 0===r?void 0:r.mem_name}),M)):(x(Ye(Object(p.a)(Object(p.a)({},f),{},{name:null===c||void 0===c||null===(o=c.result)||void 0===o?void 0:o.mem_name,prj_id:i}),M)),$()):z.b.warn("\u588a\u4ed8\u91d1\u984d\u8207\u6d88\u8cbb\u91d1\u984d\u4e0d\u76f8\u7b49"):z.b.warn("\u8acb\u9078\u64c7\u53c3\u8207\u6210\u54e1"):z.b.warn("\u8acb\u9078\u64c7\u588a\u4ed8\u6210\u54e1");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e,t,a){if(0===t.length||/^[0-9]+$/.test(t.replace(",",""))){console.log(a);var n=0,r=f.db_ProjectCost_CostDetail.map((function(r){return r.mem_id===e&&r.pm_type===a&&(console.log(t),r.pm_amt=parseInt(t.replace(",",""))||0),"1"===r.pm_type&&(n+=r.pm_amt),r}));b(Object(p.a)(Object(p.a)({},f),{},{pc_amount:n,db_ProjectCost_CostDetail:r}))}else z.b.warn("\u8acb\u8f38\u5165\u6578\u5b57")},X=function(e){if(e&&e.length>0)return e.reduce((function(e,t){return e+t}))};return(null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t.mem_name)?r.a.createElement(h.a,{component:"main",maxWidth:"xs"},console.log("testestest"),r.a.createElement(z.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(Y.a,{className:O.paper},r.a.createElement("form",{autoComplete:"off",className:"".concat(O.root," ").concat(O.form),onSubmit:K},r.a.createElement(G.a,{variant:"h6"},s?"\u7de8\u8f2f\u6d88\u8cbb":"\u65b0\u589e\u6d88\u8cbb"),r.a.createElement(Ne.a,{name:"prj_name",variant:"outlined",required:!0,label:"\u6d88\u8cbb\u5e97\u5bb6",fullWidth:!0,value:f.pc_name,onChange:function(e){return b(Object(p.a)(Object(p.a)({},f),{},{pc_name:e.target.value}))}}),r.a.createElement(Ne.a,{name:"pc_date",variant:"outlined",label:"\u6d88\u8cbb\u65e5\u671f",fullWidth:!0,type:"date",required:!0,value:f.pc_date,InputLabelProps:{shrink:!0},onChange:function(e){return b(Object(p.a)(Object(p.a)({},f),{},{pc_date:e.target.value}))}}),r.a.createElement(Je.a,{className:O.labelAmount,children:"\u6d88\u8cbb\u91d1\u984d NT$. "+f.pc_amount}),r.a.createElement(ye.a,{fullWidth:!0},r.a.createElement(He.a,{options:R,value:P,onChange:N,className:O.multiSelect1,selectAllLabel:"\u5168\u9078",overrideStrings:{selectSomeItems:"\u588a\u4ed8\u6210\u54e1",allItemsAreSelected:"All items are selected.",selectAll:"Select All",search:"\u95dc\u9375\u5b57\u641c\u5c0b",clearSearch:"Clear Search"},labelledBy:"Select",valueRenderer:function(e,t){return e.length?"\u588a\u4ed8\u6210\u54e1 \u5171"+e.length+"\u4f4d":"\u588a\u4ed8\u6210\u54e1"},filterOptions:H}),r.a.createElement(Ct,{handelSetAmt:V,costDetailPay:f.db_ProjectCost_CostDetail&&f.db_ProjectCost_CostDetail.filter((function(e){return"1"===e.pm_type}))}),r.a.createElement(Je.a,{className:O.labelPc_amtPay},"\u588a\u4ed8\u91d1\u984d NT$. "+X(null===(a=f.db_ProjectCost_CostDetail)||void 0===a?void 0:a.filter((function(e){return"1"===e.pm_type})).map((function(e){return e.pm_amt}))))),r.a.createElement(ye.a,{fullWidth:!0},r.a.createElement(He.a,{options:R,value:A,onChange:L,className:O.multiSelect2,selectAllLabel:"\u5168\u9078",overrideStrings:{selectSomeItems:"\u6d88\u8cbb\u6210\u54e1",allItemsAreSelected:"All items are selected.",selectAll:"Select All",search:"\u95dc\u9375\u5b57\u641c\u5c0b",clearSearch:"Clear Search"},labelledBy:"Select",valueRenderer:function(e,t){return e.length?"\u6d88\u8cbb\u6210\u54e1 \u5171"+e.length+"\u4f4d":"\u6d88\u8cbb\u6210\u54e1"},filterOptions:H}),r.a.createElement(St,{handelSetAmt:V,handelSetPm_item:function(e,t,a){var n=f.db_ProjectCost_CostDetail.map((function(n){return n.mem_id===e&&n.pm_type===a&&(n.pm_item=t),n}));b(Object(p.a)(Object(p.a)({},f),{},{db_ProjectCost_CostDetail:n}))},costDetailJoin:f.db_ProjectCost_CostDetail&&f.db_ProjectCost_CostDetail.filter((function(e){return"2"===e.pm_type}))}),r.a.createElement(Je.a,{className:O.labelPc_amtPay},"\u6d88\u8cbb\u91d1\u984d NT$. "+X(null===(o=f.db_ProjectCost_CostDetail)||void 0===o?void 0:o.filter((function(e){return"2"===e.pm_type})).map((function(e){return e.pm_amt}))))),r.a.createElement("div",{className:O.fileInput},r.a.createElement(ze.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return b(Object(p.a)(Object(p.a)({},f),{},{selectedFile:t}))}})),r.a.createElement(Q.a,{type:"submit",className:O.buttonSubmit,variant:"contained",color:"primary",size:"large",fullWidth:!0},s?"\u5b58\u64cb":"\u5efa\u7acb"),r.a.createElement(Q.a,{className:O.buttonSubmit,variant:"contained",color:"secondary",size:"small",onClick:function(){$()},fullWidth:!0},"\u6e05\u9664"),!1))):r.a.createElement(Y.a,{className:O.paper},r.a.createElement(G.a,{variant:"h6",align:"center"},"\u8acb\u5148\u767b\u5165"))},Pt=function(e,t,a,n){console.log(e.data),console.log(t.data);var r=JSON.parse(JSON.stringify(e.data)),o=JSON.parse(JSON.stringify(t.data)),c=[],l=[];r.sort((function(e,t){return e.value-t.value}));var i=[{id:"0",label:"\u5de6\u7d66\u53f3",minWidth:30}];r.map((function(e){var t,a;i.push((t=e.value,a=e.label,{id:t,label:a,minWidth:30,align:"right",format:function(e){return e.toLocaleString("en-US")}})),c.push({index:e.value,label:e.label}),l.push(0)})),a(i),c.map((function(e){o.map((function(t){t.db_ProjectCost_CostDetail.filter((function(t){return"2"===t.pm_type&&e.index===t.mem_id})).map((function(t){l[c.indexOf(e)]-=parseInt(t.pm_amt)}))}))})),c.map((function(e){o.map((function(t){t.db_ProjectCost_CostDetail.filter((function(t){return"1"===t.pm_type&&e.index===t.mem_id})).map((function(t){l[c.indexOf(e)]+=parseInt(t.pm_amt)}))}))}));for(var s=[],u=[],m=0;m<c.length;m++){var p=new Object;p.pid=c.indexOf(c[m])+1,p.money=Math.abs(l[m]),l[m]>0&&s.push(p),l[m]<0&&u.push(p)}for(t=[],m=0;m<c.length;m++){for(var d=[c[m].label],f=0;f<c.length;f++)d.push(0);t.push(d)}for(m=0;m<u.length;m++)for(l=u[m].money,f=0;f<s.length;f++)0!=l&&0!=s[f].money&&(l>=s[f].money?(console.log(u[m].pid+"\u7d66"+s[f].pid+": "+s[f].money+"\u5143"),t[u[m].pid-1][s[f].pid]=s[f].money,l-=s[f].money,s[f].money=0):l<s[f].money&&(console.log(u[m].pid+"\u7d66"+s[f].pid+": "+l+"\u5143"),t[u[m].pid-1][s[f].pid]=l,s[f].money-=l,l=0));console.log(t),n(t)};var Nt=Object(re.a)({root:{width:"100%"},container:{maxHeight:440}}),It=function(){var e=Nt(),t=Object(n.useState)([]),a=Object(v.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),i=Object(v.a)(l,2),s=i[0],u=i[1],m=localStorage.getItem("prj_id");Object(n.useEffect)((function(){p(m)}),[]);var p=function(){var e=Object(w.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Pt,e.next=4,W(t);case 4:return e.t1=e.sent,e.next=7,A(t);case 7:e.t2=e.sent,e.t3=c,e.t4=u,(0,e.t0)(e.t1,e.t2,e.t3,e.t4),e.next=16;break;case 13:e.prev=13,e.t5=e.catch(0),console.log(e.t5);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Y.a,{className:e.root},r.a.createElement(yt.a,{className:e.container},r.a.createElement(ht.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Et.a,null,r.a.createElement(xt.a,null,o.map((function(e){return r.a.createElement(_t.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(jt.a,null,s.map((function(e){return r.a.createElement(xt.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},o.map((function(t,a){var n=e[a];return r.a.createElement(_t.a,{key:t.id,align:t.align},t.format&&"number"===typeof n?t.format(n):n)})))}))))))},Dt=a(275),At=a(135),Lt=a(274),Bt=a(132),Tt=a(128),Wt=a.n(Tt),Ft=a(129),Rt=a.n(Ft),Ut=a(130),zt=a.n(Ut),Mt=a(11),Ht=Object(re.a)((function(e){var t,a,n;return{grow:{flexGrow:1},appBar:{borderRadius:15,margin:"30px 0",padding:"10px 20px",backgroundColor:"#FFF"},menuButton:{marginRight:e.spacing(2),color:"rgba(0,0,0, 1)"},title:(t={display:"none"},Object(me.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(me.a)(t,"color","rgba(0,0,0, 1)"),t),search:Object(me.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Mt.c)(e.palette.common.black,.15),"&:hover":{backgroundColor:Object(Mt.c)(e.palette.common.black,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(0,0,0, 1)"},inputRoot:{},inputInput:Object(me.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:(a={display:"none"},Object(me.a)(a,e.breakpoints.up("md"),{display:"flex"}),Object(me.a)(a,"color","rgba(0,0,0, 1)"),a),sectionMobile:(n={display:"flex"},Object(me.a)(n,e.breakpoints.up("md"),{display:"none"}),Object(me.a)(n,"color","rgba(0,0,0, 1)"),n),userName:{color:"rgba(0,0,0, 1)"}}})),Jt=a(93),qt=a.n(Jt),Yt=a(127);function Gt(){var e=Ht(),t=r.a.useState(null),a=Object(v.a)(t,2),o=a[0],c=a[1],i=r.a.useState(null),s=Object(v.a)(i,2),u=s[0],m=s[1],p=Boolean(o),d=Boolean(u),f=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),b=Object(v.a)(f,2),g=b[0],h=b[1],y=Object(l.b)(),E=Object(_.g)(),x=Object(_.f)(),O=function(){m(null)},C=function(){c(null),O()},w=function(){y({type:"LOGOUT"}),x.push("/auth"),h(null),C()};Object(n.useEffect)((function(){var e=null===g||void 0===g?void 0:g.access_token;e&&(1e3*Object(Yt.a)(e).exp<(new Date).getTime()&&w());h(JSON.parse(localStorage.getItem("profile")))}),[E]);var S="primary-search-account-menu",k=r.a.createElement(Bt.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:S,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:C}),P=r.a.createElement(Bt.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:O},r.a.createElement(Lt.a,{onClick:w},r.a.createElement(De.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(qt.a,null)),r.a.createElement("p",null,"\u767b\u51fa")));return r.a.createElement("div",{className:e.grow},r.a.createElement(be.a,{position:"static",className:e.appBar},console.log("Pribar"),r.a.createElement(Dt.a,null,r.a.createElement(De.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(Wt.a,null)),r.a.createElement(G.a,{className:e.title,variant:"h4",noWrap:!0},"\u51fa\u904a\u8a18\u5e33"),(null===g||void 0===g?void 0:g.result)&&r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(Rt.a,null)),r.a.createElement(At.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var t;y((t=e.target.value,function(e){e({type:"SEARCH",payload:t})}))}})),r.a.createElement("div",{className:e.grow}),r.a.createElement(G.a,{variant:"h5",className:e.userName,align:"center"},null===g||void 0===g?void 0:g.result.mem_name),(null===g||void 0===g?void 0:g.result)?r.a.createElement("div",null,r.a.createElement("div",{className:e.sectionDesktop},r.a.createElement(De.a,{edge:"end","aria-controls":S,"aria-haspopup":"true",onClick:w,color:"inherit"},r.a.createElement(qt.a,null))),r.a.createElement("div",{className:e.sectionMobile},r.a.createElement(De.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit"},r.a.createElement(zt.a,null)))):r.a.createElement(Q.a,{component:j.b,to:"/auth",variant:"outlined",color:"primary"},"\u767b\u5165"))),P,k)}var $t=a(276),Kt=a(70),Qt=a.n(Kt),Vt=a(89),Xt=a.n(Vt),Zt=Object(re.a)((function(e){return{fab:{position:"fixed",bottom:"120px",right:"50px","z-index":999},fabReply:{position:"fixed",bottom:"50px",right:"50px","z-index":999}}})),ea=(a(116),function(){var e=Object(n.useState)(!0),t=Object(v.a)(e,2),a=t[0],o=t[1],c=Zt(),l=function(){var e=window.location.pathname;o("/fromProjectCost"!==e&&"/fromProject"!==e&&"/finalTable"!==e)};return r.a.createElement(j.a,null,r.a.createElement(h.a,{maxWidth:"lg"},console.log("app"),r.a.createElement(Gt,null),r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0,component:Ce}),r.a.createElement(_.a,{path:"/auth",exact:!0,component:Re}),r.a.createElement(_.a,{path:"/fromProject",exact:!0,component:qe}),r.a.createElement(_.a,{path:"/consumption",exact:!0,component:gt}),r.a.createElement(_.a,{path:"/fromProjectCost",exact:!0,component:kt}),r.a.createElement(_.a,{path:"/finalTable",exact:!0,component:It})),a&&r.a.createElement($t.a,{component:j.b,to:function(){return l(),"/consumption"===window.location.pathname?"/fromProjectCost":"/fromProject"},className:c.fab,color:"primary","aria-label":"add"},r.a.createElement(Xt.a,null)),r.a.createElement($t.a,{component:j.b,to:function(){l();var e=window.location.pathname;return console.log(e),"/fromProjectCost"===e||"/finalTable"===e?"/consumption":"/"},onClick:function(){"/fromProjectCost"===window.location.pathname||"/finalTable"===window.location.pathname||localStorage.removeItem("prj_id"),localStorage.removeItem("pc_id")},color:"primary",className:c.fabReply,"aria-label":"add"},r.a.createElement(Qt.a,{style:{fontSize:40}}))))}),ta=(a(199),Object(i.e)(g,Object(i.d)(Object(i.a)(s.a))));c.a.render(r.a.createElement(l.a,{store:ta},r.a.createElement(ea,null)),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.e897c700.chunk.js.map